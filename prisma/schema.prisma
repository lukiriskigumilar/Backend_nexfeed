generator client {
  provider      = "prisma-client-js"
  output        = "../src/generated/prisma"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model feeds {
  id         String   @id @db.VarChar(255)
  user_id    String   @db.VarChar(255)
  content    String   @db.VarChar(255)
  created_at DateTime @db.Timestamp(0)
  updated_at DateTime @db.Timestamp(0)
  deleted_at DateTime @db.Timestamp(0)
  users      users    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "feeds_user_id_foreign")
}

model follows {
  id                                String   @id @db.VarChar(255)
  followers_id                      String   @db.VarChar(255)
  following_id                      String   @db.VarChar(255)
  created_at                        DateTime @db.Timestamp(6)
  users_follows_following_idTousers users    @relation("follows_following_idTousers", fields: [following_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "follows_followee_id_foreign")
  users_follows_followers_idTousers users    @relation("follows_followers_idTousers", fields: [followers_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "follows_follower_id_foreign")
  @@map("follows")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model sessions {
  id                String    @id @db.VarChar(255)
  id_user           String    @db.VarChar(255)
  refresh_token     String    @db.VarChar(255)
  device            String    @db.VarChar(255)
  user_agent        Json      @db.Json
  refresh_token_exp DateTime  @db.Timestamp(6)
  is_revoked        Boolean
  access_token      String    @db.VarChar(255)
  created_at        DateTime  @db.Timestamp(6)
  ip_address        String?   @db.VarChar
  deleted_at        DateTime? @db.Timestamp(6)
  users             users     @relation(fields: [id_user], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sessions_users_fk")
}

model users {
  id                                  String     @id @db.VarChar(255)
  username                            String     @unique(map: "users_username_unique") @db.VarChar(255)
  password                            String     @db.VarChar(255)
  created_at                          DateTime   @db.Timestamp(0)
  updated_at                          DateTime?  @db.Timestamp(0)
  deleted_at                          DateTime?  @db.Timestamp(0)
  feeds                               feeds[]
  follows_follows_following_idTousers follows[]  @relation("follows_following_idTousers")
  follows_follows_followers_idTousers follows[]  @relation("follows_followers_idTousers")
  sessions                            sessions[]
}
